<script>
  (function(algolia) {
    'use strict';

    algolia.productTemplate = function productTemplate({ item, html, components, insights }, distinct, itemLink, getConversionData) {
      return html `<a
        href="${itemLink}"
        class="aa-ItemLink aa-ProductItem"
        onClick="${(event) => getConversionData(event, item)}"
      >
        <div class="aa-ItemContent">
          <div class="aa-ItemPicture aa-ItemPicture--loaded">
            <img src="${algolia.helpers.grandeImage(item)}" alt="${item.title}" />
          </div>
          <div class="aa-ItemContentBody">
            ${item?.meta?.product_details?.strapline && html
            `<div class="aa-ItemContentStrapline">
              ${item.meta.product_details.strapline}
            </div>
            `}

            <div class="aa-ItemContentTitleWrapper">
              <div class="aa-ItemContentTitle">
                ${components.Highlight({ hit: item, attribute: 'title' })}
              </div>
            </div>
            <div class="aa-ItemContentPrice">
              <div class="aa-ItemContentPriceCurrent">
               ${algolia.helpers.displayPrice(item, distinct)}
              </div>
            </div>
          </div>
        </div>
      </a>`
    };
  })(window.algoliaShopify);
</script>